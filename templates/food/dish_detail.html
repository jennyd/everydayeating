{% extends "food/base.html" %}

{% block content %}

    <h1>{{ dish.name }}</h1>
    <p>
    {% if dish.total_quantity_unit == "items" %}
        {{ dish.total_quantity }} {{ dish.name }} cooked on {{ dish.date_cooked }}.
    {% else %}
        {{ dish.total_quantity }}{{ dish.total_quantity_unit }} of {{ dish.name }} cooked on {{ dish.date_cooked }}.
    {% endif %}
    <a href="{% url dish_edit dish.id %}">Edit</a><p/>
    
    {% if dish.contained_amounts_set.all %}
        Ingredients:
        <ul>
        {% for amount in dish.contained_amounts_set.all %}
            {{ amount.quantity }}{{ amount.ingredient.reference_quantity_unit }} of {{ amount.ingredient }}
            <a href="{% url amount_edit dish.id amount.id %}">Edit</a>
            <br />
        {% endfor %}
        </ul>
    {% else %}
        <p>This dish doesn't have any ingredients.</p>
    {% endif %}
    
    <a href="{% url dish_edit_amounts dish.id %}">Edit all of this dish's ingredients</a><p/>

{% endblock content %}
